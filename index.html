<!DOCTYPE html>
<html lang="en" id="landing">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Virdesk</title>
  <link href="https://fonts.googleapis.com/css?family=Righteous" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <script src="script.js" defer></script>
</head>
<body>
  <div id="landingPage" class="landingPage">
    <h1 class="gradient-text">Virdesk</h1>
    <div class="loader" id="loader" aria-live="polite">
      <span class="dot">●</span>
      <span class="dot">●</span>
      <span class="dot">●</span>
    </div>
  </div>

  <main id="home" data-route="/home" class="hidden">

    <div class="top-bar global">
      <div class="brand gradient-text">Virdesk</div>
      <div class="top-actions">
        <button id="openPlantBtn" class="icon-btn" title="Plant panel"><i class="fa-solid fa-droplet"></i></button>
      </div>
    </div>
      <div class="center-container">
        <div class="center-content">
          <p id="greeting">Good afternoon!</p>
          <div id="clock" class="clock">--:-- --</div>
          <p>Let's set up for today!</p>
        </div>

        <!-- Your icon nav, now routed via hash -->
        <nav class="nav" aria-label="Primary">
          <a href="#/rest" title="Rest"><i class="fa-solid fa-cloud"></i></a>
          <a href="#/home" title="Home" aria-current="page"><i class="fa-solid fa-house"></i></a>
          <a href="#/pomodoro" title="Pomodoro"><i class="fa-solid fa-clock"></i></a>
        </nav>
      </div>

      <div class="quote">
        <p>"Sometimes the smallest step in the right direction ends up being the biggest step of your life."</p>
      </div>

      <!-- POMODORO -->
      <section id="pomodoro" class="page hidden" data-route="/pomodoro">
        <div class="center-container">
          <div class="center-content">
            <div class="timer-modes">
              <a class="chip active" href="#/pomodoro">Pomodoro</a>
              <a class="chip" href="#/short">Short break</a>
              <a class="chip" href="#/long">Long break</a>
            </div>

            <div class="timer-wrap">
              <div id="timerRing" class="ring"></div>
              <div class="timer-face">
                <div class="timer-label">Focus</div>
                <div id="timerDisplay" class="timer-time">25:00</div>
                <div class="timer-controls">
                  <button id="startPauseBtn" class="pill"><i class="fa-solid fa-play"></i><span>Start</span></button>
                  <button id="resetBtn" class="pill"><i class="fa-solid fa-rotate-right"></i><span>Reset</span></button>
                  <button id="openTasksBtn2" class="pill"><i class="fa-solid fa-list-check"></i><span>Tasks</span></button>
                </div>
              </div>
            </div>

            <button class="link-btn" onclick="location.hash='#/home'">← Back to Home</button>
          </div>
        </div>
      </section>

      <!-- SHORT BREAK -->
      <section id="short" class="page hidden" data-route="/short">
        <div class="center-container">
          <div class="center-content">
            <div class="timer-modes">
              <a class="chip" href="#/pomodoro">Pomodoro</a>
              <a class="chip active" href="#/short">Short break</a>
              <a class="chip" href="#/long">Long break</a>
            </div>

            <div class="timer-wrap">
              <div id="shortRing" class="ring"></div>
              <div class="timer-face">
                <div class="timer-label">Short break</div>
                <div id="shortDisplay" class="timer-time">05:00</div>
                <div class="timer-controls">
                  <button id="shortStartPause" class="pill"><i class="fa-solid fa-play"></i><span>Start</span></button>
                  <button id="shortReset" class="pill"><i class="fa-solid fa-rotate-right"></i><span>Reset</span></button>
                  <button id="openTasksBtn3" class="pill"><i class="fa-solid fa-list-check"></i><span>Tasks</span></button>
                </div>
              </div>
            </div>

            <button class="link-btn" onclick="history.back()">← Back</button>
          </div>
        </div>
      </section>

      <!-- LONG BREAK -->
      <section id="long" class="page hidden" data-route="/long">
        <div class="center-container">
          <div class="center-content">
            <div class="timer-modes">
              <a class="chip" href="#/pomodoro">Pomodoro</a>
              <a class="chip" href="#/short">Short break</a>
              <a class="chip active" href="#/long">Long break</a>
            </div>

            <div class="timer-wrap">
              <div id="longRing" class="ring"></div>
              <div class="timer-face">
                <div class="timer-label">Long break</div>
                <div id="longDisplay" class="timer-time">15:00</div>
                <div class="timer-controls">
                  <button id="longStartPause" class="pill"><i class="fa-solid fa-play"></i><span>Start</span></button>
                  <button id="longReset" class="pill"><i class="fa-solid fa-rotate-right"></i><span>Reset</span></button>
                  <button id="openTasksBtn4" class="pill"><i class="fa-solid fa-list-check"></i><span>Tasks</span></button>
                </div>
              </div>
            </div>

            <button class="link-btn" onclick="history.back()">← Back</button>
          </div>
        </div>
      </section>

      <!-- REST -->
      <section id="rest" class="page hidden" data-route="/rest">
          <div class="center-container">
            <div class="center-content">
              <p>Take a breath.</p>
              <div id="restClock" class="clock">--:-- --</div>
              <p>You're doing great.</p>
              <div style="margin-top:14px;">
                <button id="openTasksBtn5" class="pill"><i class="fa-solid fa-list-check"></i><span>Tasks</span></button>
                <a class="chip" href="#/home">Home</a>
              </div>
            </div>
          </div>
      </section>

      <!-- LANTERN -->
      <section id="lantern" class="page hidden" data-route="/lantern">
        <div class="center-container">
          <div class="center-content">
            <p>Release a lantern with a thought:</p>
            <div class="timer-controls" style="margin-top:12px;">
              <button id="lanternRelease" class="pill"><i class="fa-solid fa-star"></i><span>Release</span></button>
            </div>
            <button class="link-btn" onclick="history.back()">← Back</button>
          </div>
        </div>
      </section>

      <!-- Bottom controls (fixed) -->
      <div class="bottom-bar">
        <div class="music">
          <button id="musicBtn" type="button" aria-controls="ambientMusic" aria-pressed="false" title="Toggle music">
            <i class="fa-solid fa-music"></i>
          </button>
          <audio id="ambientMusic" src="lofi-girl.mp3" preload="none"></audio>
        </div>
        <div class="actions">
          <button id="lanternBtn" class="icon-btn" title="Lantern"><i class="fa-solid fa-star"></i></button>
          <button id="fullscreenBtn" type="button" title="Fullscreen"><i class="fa-solid fa-expand"></i></button>
        </div>
      </div>

      <!-- Plant side panel -->
      <aside id="plantPanel" class="plant-panel" aria-live="polite">
        <button id="closePlantPanel" class="close-x" aria-label="Close plant panel">×</button>
        <h3 class="plant-title">Your Plant</h3>
        <div class="plant-box">
          <img id="plantImg" src="img/plant-stage1.png" alt="Plant growth stage">
          <div>
            <div class="plant-progress-bar"><span id="plantProgress" style="width:0%"></span></div>
            <div class="plant-stats"><strong><span id="completedCount">0</span></strong> tasks completed</div>
            <button class="pill small" id="openTasksBtn6" onclick="openTodo()"><i class="fa-solid fa-list-check"></i>Tasks</button>
          </div>
        </div>
      </aside>

      <!-- To-Do Modal -->
      <div id="todoModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="todoTitle" aria-describedby="todoDesc">
        <div class="modal-content">
          <h2 id="todoTitle" style="margin:0 0 6px;">To-Do</h2>
          <p id="todoDesc" class="todo">Add tasks. Completing them grows your plant.</p>
          <div class="todo-inputs">
            <input id="todoText" type="text" placeholder="New task…">
            <button id="addTodoBtn" class="pill small"><i class="fa-solid fa-plus"></i>Add</button>
          </div>
          <ul id="todoList" class="todo-list" aria-live="polite"></ul>
          <div class="modal-actions">
            <button id="clearDoneBtn" class="pill small"><i class="fa-solid fa-broom"></i>Clear completed</button>
            <button id="closeTodoBtn" class="pill small">Close</button>
          </div>
        </div>
      </div>
  </main>
</body>
</html>
